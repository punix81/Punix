<app-nav></app-nav>

<app-search (searchCustomer)="search($event)">
</app-search>

<div fxLayout="row wrap" fxLayoutAlign="space-around" *ngIf="!state.loading && state.list[0]">
  <mat-card fxFlex="320px" *ngFor="let customer of state.list">
    <mat-card-header>
      <mat-card-title>{{ customer.name }}</mat-card-title>
      <mat-card-subtitle>
          {{'customer' | translate}} #{{ customer.id }}
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p>
        {{ 'customer-text' | translate: {
          name: customer.name,
          id: customer.id,
          firstName: customer.name.split(' ')[0],
          country: customer.country
        } }}
      </p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button [routerLink]="['/customer', customer.id]">
        {{'DETAILS' | translate}}
      </button>
      <button mat-button color="primary" [routerLink]="['/customer/edit', customer.id]">
        {{'EDIT' | translate}}
      </button>
      <button mat-button (click)="openDialog(customer)">
        {{'DELETE' | translate}}
      </button>
    </mat-card-actions>
  </mat-card>
</div>
  
<div fxLayout="row" fxLayoutAlign="center" *ngIf="!state.loading && !state.list[0]">
  No customers found.
</div>
  
<div fxLayout="row" fxLayoutAlign="center" *ngIf="state.loading">
  Loading customers...
</div>
